<div id="toast-container" class="fixed top-5 right-5 z-[100] space-y-3">
    </div>

<script>
    function showToast(message, type = 'success') {
        const container = document.getElementById('toast-container');
        if (!container) return;

        let bgColor, icon;
        if (type.includes('success')) {
            bgColor = 'bg-[#8B837A]';
            icon = '‚úÖ';
        } else if (type.includes('error')) {
            bgColor = 'bg-red-600';
            icon = '‚ùå';
        } else if (type.includes('warning')) {
            bgColor = 'bg-yellow-600';
            icon = '‚ö†Ô∏è';
        } else {
            bgColor = 'bg-gray-700';
            icon = 'üîî';
        }

        const toast = document.createElement('div');
        toast.className = `p-4 rounded-md shadow-lg text-white max-w-xs transition-all duration-300 transform translate-x-full opacity-0 ${bgColor}`;
        toast.innerHTML = `<div class="flex items-center space-x-2"><span class="text-lg">${icon}</span><span class="font-medium text-sm">${message}</span></div>`;
        container.appendChild(toast);

        // Show
        setTimeout(() => {
            toast.classList.remove('translate-x-full', 'opacity-0');
            toast.classList.add('translate-x-0', 'opacity-100');
        }, 10); 

        // Hide
        setTimeout(() => {
            toast.classList.remove('translate-x-0', 'opacity-100');
            toast.classList.add('translate-x-full', 'opacity-0');
            toast.addEventListener('transitionend', () => toast.remove());
        }, 3000); 
    }

    // --- Logic to process Django messages on page load ---
    document.addEventListener('DOMContentLoaded', function() {
        {% if messages %}
            {% for message in messages %}
                // message.tags contains 'success', 'error', 'warning', etc.
                showToast('{{ message|safe }}', '{{ message.tags }}'); 
            {% endfor %}
        {% endif %}
    });
</script>